"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[364],{364:(N,p,s)=>{s.r(p),s.d(p,{ExplorerPageModule:()=>I});var d=s(2200),v=s(4341),f=s(9893),u=s(8132),h=s(467),g=s(5312),m=s(4843),e=s(3664),l=s(2615),k=s(9330),E=s(5604),F=s(5454),b=s(2674),R=s(6991);const _=()=>["/login"],j=()=>["/home"];function T(n,a){1&n&&(e.j41(0,"a",36)(1,"span"),e.EFF(2,"Login / Sign Up"),e.k0s()()),2&n&&e.Y8G("routerLink",e.lJ4(1,_))}function y(n,a){1&n&&(e.j41(0,"a",36)(1,"span"),e.EFF(2,"Marketplace"),e.k0s()()),2&n&&e.Y8G("routerLink",e.lJ4(1,j))}function P(n,a){if(1&n){const c=e.RV6();e.j41(0,"div",37)(1,"div",38)(2,"div",39)(3,"a",40),e.bIt("click",function(){const i=l.eBV(c).$implicit,r=e.XpG();return l.Njj(r.goToNftDetail(i.mintAddress))}),e.nrm(4,"img",41),e.k0s()(),e.j41(5,"h5",42),e.EFF(6),e.k0s(),e.nrm(7,"div",43),e.j41(8,"div",44)(9,"span",45),e.EFF(10,"Current Price"),e.k0s(),e.j41(11,"h6",46),e.nrm(12,"img",47),e.EFF(13),e.k0s()()()()}if(2&n){const c=a.$implicit;e.R7$(4),e.Y8G("src",c.image||"assets/images/box-item/card-item-53.jpg",e.B4B),e.R7$(2),e.JRh(c.name),e.R7$(7),e.JRh(c.price)}}function w(n,a){if(1&n){const c=e.RV6();e.j41(0,"div",4)(1,"div",48)(2,"a",49),e.bIt("click",function(){l.eBV(c);const i=e.XpG();return l.Njj(i.loadMoreCharacter())}),e.j41(3,"span"),e.EFF(4,"Load More"),e.k0s(),e.nrm(5,"i",50),e.k0s()()()}}function x(n,a){if(1&n){const c=e.RV6();e.j41(0,"div",37)(1,"div",51)(2,"div",39)(3,"a",40),e.bIt("click",function(){const i=l.eBV(c).$implicit,r=e.XpG();return l.Njj(r.goToNftDetail(i.mintAddress))}),e.nrm(4,"img",41),e.k0s()(),e.j41(5,"h5",42),e.EFF(6),e.k0s(),e.nrm(7,"div",43),e.j41(8,"div",44)(9,"span",45),e.EFF(10,"Current Price"),e.k0s(),e.j41(11,"h6",46),e.nrm(12,"img",47),e.EFF(13),e.k0s()()()()}if(2&n){const c=a.$implicit;e.R7$(4),e.Y8G("src",c.image||"assets/images/box-item/card-item-53.jpg",e.B4B),e.R7$(2),e.JRh(c.name),e.R7$(7),e.JRh(c.price)}}function C(n,a){if(1&n){const c=e.RV6();e.j41(0,"div",4)(1,"div",48)(2,"a",49),e.bIt("click",function(){l.eBV(c);const i=e.XpG();return l.Njj(i.loadMoreRune())}),e.j41(3,"span"),e.EFF(4,"Load More"),e.k0s(),e.nrm(5,"i",50),e.k0s()()()}}const $=[{path:"",component:(()=>{var n;class a{constructor(t,i,r,o,A,S){this.http=t,this.idlService=i,this.toastCtrl=r,this.nftService=o,this.authRedirect=A,this.router=S,this.userAddress=null,this.nftCharacter=[],this.nftRune=[],this.characters=[],this.runes=[],this.selectedCharacter=null,this.characterMap={},this.runeMap={},this.isOpen=!1,this.selected="",this.activeTab="character",this.itemsToShowCharacter=8,this.itemsToShowRune=8,this.loadStep=8}ngOnInit(){var t=this;return(0,h.A)(function*(){t.program=yield t.idlService.loadProgram();const i=localStorage.getItem("walletAddress");i&&(t.userAddress=i),yield t.loadNft(),yield t.loadCharacters(),yield t.loadRunes()})()}disconnectWallet(){localStorage.removeItem("walletAddress"),this.userAddress=null}shorten(t){return t.slice(0,6)+"..."+t.slice(-4)}loadNft(){var t=this;return(0,h.A)(function*(){try{const i=yield t.http.get(`${g.c.apiUrl}/nft/fetch-nft`).toPromise();t.nftCharacter=i.filter(r=>!!r.character),t.nftRune=i.filter(r=>!!r.rune),console.log("\u{1f4e6} NFT Character:",t.nftCharacter),console.log("\u{1f4e6} NFT Rune:",t.nftRune)}catch(i){console.error("\u274c Error loading NFT:",i),t.nftCharacter=[],t.nftRune=[]}})()}loadCharacters(){var t=this;return(0,h.A)(function*(){try{const i=yield(0,m._)(t.http.get(`${g.c.apiUrl}/nft/fetch-character`));t.characters=i,t.characterMap=i.reduce((r,o)=>(r[o.rarity]=[...r[o.rarity]||[],o],r),{})}catch(i){console.error("\u274c Error loading characters:",i),t.characters=[],t.characterMap={}}})()}loadRunes(){var t=this;return(0,h.A)(function*(){try{const i=yield(0,m._)(t.http.get(`${g.c.apiUrl}/nft/rune`));t.runes=i,t.runeMap=i.reduce((r,o)=>(r[o.rarity]=[...r[o.rarity]||[],o],r),{})}catch(i){console.error("\u274c Error loading runes:",i),t.runes=[],t.runeMap={}}})()}goToNftDetail(t){const i=`/nft-detail/${t}`;this.authRedirect.setNextRoute(i),this.router.navigate(this.userAddress?[i]:["/login"])}toggleDropdown(){this.isOpen=!this.isOpen}switchTab(t){this.activeTab=t,this.isOpen=!1}sortData(t){let i="character"===this.activeTab?this.nftCharacter:this.nftRune;"recent"===t?(i.sort((r,o)=>new Date(o.createdAt).getTime()-new Date(r.createdAt).getTime()),this.selected="Recently added"):"low"===t?(i.sort((r,o)=>r.price-o.price),this.selected="Price: Low to High"):"high"===t&&(i.sort((r,o)=>o.price-r.price),this.selected="Price: High to Low"),this.isOpen=!1}loadMoreCharacter(){this.itemsToShowCharacter+=this.loadStep}loadMoreRune(){this.itemsToShowRune+=this.loadStep}static#e=n=()=>(this.\u0275fac=function(i){return new(i||a)(e.rXU(k.Qq),e.rXU(E.a),e.rXU(f.K_),e.rXU(F.w),e.rXU(b.j),e.rXU(R.Ix))},this.\u0275cmp=e.VBU({type:a,selectors:[["app-explorer"]],standalone:!1,decls:66,vars:27,consts:[["id","wrapper"],["id","page",1,"pt-40"],["id","header_main",1,"header_1","header-fixed"],[1,"themesflat-container"],[1,"row"],[1,"col-md-12"],["id","site-header-inner"],[1,"wrap-box","flex"],["id","site-logo"],["style","color: #161616;","class","tf-button style-1",3,"routerLink",4,"ngIf"],[1,"flat-title-page"],[1,"widget-bg-line"],[1,"wraper"],[1,"bg-grid-line","y","bottom"],[1,"bg-line"],[1,"col-12"],[1,"heading","text-center"],[1,"breadcrumbs","flex","justify-center"],[1,"icon-keyboard_arrow_right"],["href","#"],[1,"tf-section-2","discover-item","loadmore-12-item"],[1,"widget-tabs","relative"],[1,"tf-soft"],[1,"soft-right"],[1,"dropdown"],["type","button","id","dropdownMenuButton4",1,"btn","btn-secondary","dropdown-toggle",3,"click"],["aria-labelledby","dropdownMenuButton4",1,"dropdown-menu"],[1,"dropdown-header"],[1,"dropdown-item",3,"click"],[1,"widget-menu-tab"],[1,"item-title",3,"click"],[1,"inner"],[1,"widget-content-tab","pt-10"],[1,"widget-content-inner"],["class","col-xl-3 col-lg-4 col-md-6 col-sm-6 mb-4",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"tf-button","style-1",2,"color","#161616",3,"routerLink"],[1,"col-xl-3","col-lg-4","col-md-6","col-sm-6","mb-4"],[1,"tf-card-box","style-1","d-flex","flex-column"],[1,"card-media"],["href","javascript:void(0)",3,"click"],["alt","",3,"src"],[1,"name"],[1,"divider","mt-auto"],[1,"meta-info","flex","items-center","justify-between"],[1,"text-bid"],[1,"price","gem"],["src","assets/images/box-icon/coin-04.png","alt","",1,"pr-2"],[1,"col-md-12","load-more"],[1,"tf-button-loadmore",3,"click"],[1,"icon-loading-1"],[1,"tf-card-box","style-1","h-100","d-flex","flex-column"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"header",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),e.DNE(9,T,3,2,"a",9)(10,y,3,2,"a",9),e.k0s()()()()()()(),e.j41(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13),e.nrm(15,"div",14),e.k0s()()(),e.j41(16,"div",3)(17,"div",4)(18,"div",15)(19,"h1",16),e.EFF(20,"Explore NFT's"),e.k0s(),e.j41(21,"ul",17)(22,"li",18)(23,"a",19),e.EFF(24,"Home"),e.k0s()(),e.j41(25,"li")(26,"a",19),e.EFF(27,"Explore"),e.k0s()()()()()()(),e.j41(28,"div",20)(29,"div",3)(30,"div",4)(31,"div",15)(32,"div",21)(33,"div",22)(34,"div",23)(35,"div",24)(36,"button",25),e.bIt("click",function(){return r.toggleDropdown()}),e.j41(37,"span"),e.EFF(38),e.k0s()(),e.j41(39,"div",26)(40,"h6",27),e.EFF(41,"Sort by"),e.k0s(),e.j41(42,"a",28),e.bIt("click",function(){return r.sortData("recent")}),e.EFF(43,"Recently added"),e.k0s(),e.j41(44,"a",28),e.bIt("click",function(){return r.sortData("low")}),e.EFF(45,"Price: Low to High"),e.k0s(),e.j41(46,"a",28),e.bIt("click",function(){return r.sortData("high")}),e.EFF(47,"Price: High to Low"),e.k0s()()()()(),e.j41(48,"ul",29)(49,"li",30),e.bIt("click",function(){return r.switchTab("character")}),e.j41(50,"span",31),e.EFF(51,"Character"),e.k0s()(),e.j41(52,"li",30),e.bIt("click",function(){return r.switchTab("rune")}),e.j41(53,"span",31),e.EFF(54,"Items"),e.k0s()()(),e.j41(55,"div",32)(56,"div",33)(57,"div",4),e.DNE(58,P,14,3,"div",34),e.nI1(59,"slice"),e.k0s(),e.DNE(60,w,6,0,"div",35),e.k0s(),e.j41(61,"div",33)(62,"div",4),e.DNE(63,x,14,3,"div",34),e.nI1(64,"slice"),e.k0s(),e.DNE(65,C,6,0,"div",35),e.k0s()()()()()()()()()),2&i&&(e.R7$(9),e.Y8G("ngIf",!r.userAddress),e.R7$(),e.Y8G("ngIf",r.userAddress),e.R7$(25),e.AVh("show",r.isOpen),e.R7$(3),e.SpI("Sort by: ",r.selected),e.R7$(),e.AVh("show",r.isOpen),e.R7$(10),e.AVh("active","character"===r.activeTab),e.R7$(3),e.AVh("active","rune"===r.activeTab),e.R7$(4),e.AVh("active","character"===r.activeTab),e.R7$(2),e.Y8G("ngForOf",e.brH(59,19,r.nftCharacter,0,r.itemsToShowCharacter)),e.R7$(2),e.Y8G("ngIf",r.itemsToShowCharacter<r.nftCharacter.length),e.R7$(),e.AVh("active","rune"===r.activeTab),e.R7$(2),e.Y8G("ngForOf",e.brH(64,23,r.nftRune,0,r.itemsToShowRune)),e.R7$(2),e.Y8G("ngIf",r.itemsToShowRune<r.nftRune.length))},dependencies:[d.Sq,d.bT,f.oY,u.Wk,d.P9],styles:["h1[_ngcontent-%COMP%]{font-size:40px}.tf-button.style-1[_ngcontent-%COMP%]{width:170px;height:44px;gap:10px;flex-shrink:0;background:linear-gradient(45deg,#524afc,#1ac4fc)}.tf-soft[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:active, .btn-secondary.active[_ngcontent-%COMP%], .tf-soft[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .btn-secondary.dropdown-toggle[_ngcontent-%COMP%]{background:linear-gradient(45deg,#524afc,#1ac4fc);color:#161616}h5.name[_ngcontent-%COMP%]{font-size:22px}"]}))}return n(),a})()}];let M=(()=>{var n;class a{static#e=n=()=>(this.\u0275fac=function(i){return new(i||a)},this.\u0275mod=e.$C({type:a}),this.\u0275inj=l.G2t({imports:[u.iI.forChild($),u.iI]}))}return n(),a})(),I=(()=>{var n;class a{static#e=n=()=>(this.\u0275fac=function(i){return new(i||a)},this.\u0275mod=e.$C({type:a}),this.\u0275inj=l.G2t({imports:[d.MD,v.YN,f.bv,M]}))}return n(),a})()}}]);