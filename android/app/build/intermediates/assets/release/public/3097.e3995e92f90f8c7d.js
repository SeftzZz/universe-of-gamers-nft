"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3097],{3097:(b,u,r)=>{r.r(u),r.d(u,{RegistrationPageModule:()=>T});var p=r(2200),l=r(4341),g=r(9893),h=r(8132),c=r(467),s=r(3664),w=r(3205),f=r(6991);const P=()=>["/login"];let C=(()=>{var d;class n{constructor(t,i,e,a){this.auth=t,this.toastCtrl=i,this.loadingCtrl=e,this.router=a,this.name="",this.email="",this.password="",this.confirmPassword="",this.acceptedTerms=!1,this.showPassword=!1,this.showPasswordConfirm=!1,this.loading=null}ngOnInit(){}showToast(t){var i=this;return(0,c.A)(function*(e,a="success"){yield(yield i.toastCtrl.create({message:e,duration:2500,position:"top",color:a})).present()}).apply(this,arguments)}presentLoading(){var t=this;return(0,c.A)(function*(i="Please wait..."){t.loading=yield t.loadingCtrl.create({message:i,spinner:"crescent",translucent:!0}),yield t.loading.present()}).apply(this,arguments)}dismissLoading(){var t=this;return(0,c.A)(function*(){t.loading&&(yield t.loading.dismiss(),t.loading=null)})()}clearForm(){this.name="",this.email="",this.password="",this.confirmPassword="",this.acceptedTerms=!1}togglePassword(t){"password"===t?this.showPassword=!this.showPassword:this.showPasswordConfirm=!this.showPasswordConfirm}onRegister(t){t.preventDefault(),this.password===this.confirmPassword?(this.presentLoading("Sign in..."),this.auth.register({name:this.name,email:this.email,password:this.password,acceptedTerms:this.acceptedTerms}).subscribe({next:e=>{this.dismissLoading(),console.log("\u2705 Register success:",e),this.auth.setToken(e.token,e.authId);let a=null;if(e.custodialWallets?.length>0?a=e.custodialWallets[0].address:e.wallets?.length>0&&(a=e.wallets[0].address),localStorage.setItem("userId",e.authId),a&&localStorage.setItem("walletAddress",a),e.wallets||e.custodialWallets){const o=[...e.wallets||[],...e.custodialWallets||[]];localStorage.setItem("wallets",JSON.stringify(o))}this.showToast("Register success \u{1f389}","success"),this.clearForm(),this.router.navigate(["/tabs/home"])},error:e=>{this.dismissLoading(),console.error("\u274c Register failed:",e),this.showToast(e.error?.error||"Register failed","danger")}})):this.showToast("Passwords do not match!","danger")}onLogin(){this.presentLoading("Logging in..."),this.auth.login({email:this.email,password:this.password}).subscribe({next:t=>{this.dismissLoading(),console.log("\u2705 Login success:",t),this.auth.setToken(t.token,t.authId),this.showToast("Login success \u{1f389}","success"),this.clearForm(),this.router.navigate(["/tabs/home"])},error:t=>{this.dismissLoading(),console.error("\u274c Login failed:",t),this.showToast(t.error?.error||"Login failed","danger")}})}onGenerateCustodial(){this.presentLoading("Please wait...");const t=this.auth.getAuthId();if(!t)return this.dismissLoading(),void this.showToast("User not logged in","danger");this.auth.generateCustodialWallet({userId:t,provider:"solana"}).subscribe({next:i=>{this.dismissLoading(),console.log("\u2705 Custodial wallet created:",i),this.showToast(`Wallet created: ${i.wallet.address}`,"success")},error:i=>{this.dismissLoading(),console.error("\u274c Custodial wallet error:",i),this.showToast(i.error?.error||"Custodial wallet error","danger")}})}onLogout(){this.auth.logout(),this.showToast("Logged out","success"),this.clearForm(),this.router.navigate(["/login"])}static#s=d=()=>(this.\u0275fac=function(i){return new(i||n)(s.rXU(w.N),s.rXU(g.K_),s.rXU(g.Xi),s.rXU(f.Ix))},this.\u0275cmp=s.VBU({type:n,selectors:[["app-registration"]],standalone:!1,decls:45,vars:15,consts:[["id","wrapper"],["id","page",1,"pt-40"],[1,"tf-section-2","pt-60","widget-box-icon"],[1,"themesflat-container","w920"],[1,"row"],[1,"col-md-12"],[1,"heading-section-1"],[1,"tf-title","pb-16"],[1,"pb-40"],[1,"col-12"],[1,"widget-login"],[1,"comment-form",3,"submit"],[1,"name"],["type","text","id","name","placeholder","Your name*","name","name","required","",3,"ngModelChange","ngModel"],[1,"email"],["type","email","id","email","placeholder","mail@website.com","name","email","required","",3,"ngModelChange","ngModel"],[1,"password"],["id","password","placeholder","Min. 8 characters","name","password","required","",1,"password-input",3,"ngModelChange","type","ngModel"],[3,"click"],["id","confirmPassword","placeholder","Confirm password","name","confirmPassword","required","",1,"password-input",3,"ngModelChange","type","ngModel"],[1,"widget-category-checkbox"],["type","checkbox","name","acceptedTerms",3,"ngModelChange","ngModel"],[1,"btn-checkbox"],[1,"btn-submit","mb-30"],["type","submit",1,"tf-button","style-1","h50","w-100"],[1,"icon-arrow-up-right2"],[1,"no-account"],[1,"tf-color",3,"routerLink"]],template:function(i,e){1&i&&(s.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),s.EFF(8,"Create you account"),s.k0s(),s.j41(9,"p",8),s.EFF(10,"Let\u2019s get started with your 30 days free trial"),s.k0s()()(),s.j41(11,"div",9)(12,"div",10)(13,"form",11),s.bIt("submit",function(o){return e.onRegister(o)}),s.j41(14,"fieldset",12)(15,"label"),s.EFF(16,"Name *"),s.k0s(),s.j41(17,"input",13),s.mxI("ngModelChange",function(o){return s.DH7(e.name,o)||(e.name=o),o}),s.k0s()(),s.j41(18,"fieldset",14)(19,"label"),s.EFF(20,"Email *"),s.k0s(),s.j41(21,"input",15),s.mxI("ngModelChange",function(o){return s.DH7(e.email,o)||(e.email=o),o}),s.k0s()(),s.j41(22,"fieldset",16)(23,"label"),s.EFF(24,"Password *"),s.k0s(),s.j41(25,"input",17),s.mxI("ngModelChange",function(o){return s.DH7(e.password,o)||(e.password=o),o}),s.k0s(),s.j41(26,"i",18),s.bIt("click",function(){return e.togglePassword("password")}),s.k0s()(),s.j41(27,"fieldset",16)(28,"label"),s.EFF(29,"Confirm password *"),s.k0s(),s.j41(30,"input",19),s.mxI("ngModelChange",function(o){return s.DH7(e.confirmPassword,o)||(e.confirmPassword=o),o}),s.k0s(),s.j41(31,"i",18),s.bIt("click",function(){return e.togglePassword("confirm")}),s.k0s(),s.j41(32,"div",20)(33,"label"),s.EFF(34," I agree to all Terms, Privacy Policy and fees "),s.j41(35,"input",21),s.mxI("ngModelChange",function(o){return s.DH7(e.acceptedTerms,o)||(e.acceptedTerms=o),o}),s.k0s(),s.nrm(36,"span",22),s.k0s()()(),s.j41(37,"div",23)(38,"button",24),s.EFF(39," Sign up "),s.nrm(40,"i",25),s.k0s()()(),s.j41(41,"div",26),s.EFF(42,"Already have an account? "),s.j41(43,"a",27),s.EFF(44,"Log in"),s.k0s()()()()()()()()()),2&i&&(s.R7$(17),s.R50("ngModel",e.name),s.R7$(4),s.R50("ngModel",e.email),s.R7$(4),s.Y8G("type",e.showPassword?"text":"password"),s.R50("ngModel",e.password),s.R7$(),s.HbH(s.VkB("",e.showPassword?"icon-hide":"icon-show"," password-addon")),s.R7$(4),s.Y8G("type",e.showPasswordConfirm?"text":"password"),s.R50("ngModel",e.confirmPassword),s.R7$(),s.HbH(s.VkB("",e.showPasswordConfirm?"icon-hide":"icon-show"," password-addon")),s.R7$(4),s.R50("ngModel",e.acceptedTerms),s.R7$(8),s.Y8G("routerLink",s.lJ4(14,P)))},dependencies:[l.qT,l.me,l.Zm,l.BC,l.cb,l.YS,l.vS,l.cV,g.oY,h.Wk],encapsulation:2}))}return d(),n})();var m=r(2615);const R=[{path:"",component:C}];let y=(()=>{var d;class n{static#s=d=()=>(this.\u0275fac=function(i){return new(i||n)},this.\u0275mod=s.$C({type:n}),this.\u0275inj=m.G2t({imports:[h.iI.forChild(R),h.iI]}))}return d(),n})(),T=(()=>{var d;class n{static#s=d=()=>(this.\u0275fac=function(i){return new(i||n)},this.\u0275mod=s.$C({type:n}),this.\u0275inj=m.G2t({imports:[p.MD,l.YN,g.bv,y]}))}return d(),n})()}}]);